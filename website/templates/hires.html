{% extends "base.html"%}
{% load static%}
{% block body%}
<link rel="stylesheet" href="{% static 'css/chat-hires.css' %}">
<div class="container rounded bg-white mt-5 mb-5">
    <div class="row" style="flex-wrap: nowrap">

        <div class="col-md-3 border-right">

            <div class="d-flex flex-column align-items-center text-center p-3 py-5"><img class="rounded-circle mt-5"
                    width="150px" src="{{user.profile_pic.url}}"><span
                    class="font-weight-bold">{{user.get_full_name}}</span><span
                    class="text-black-50">{{user.email}}</span><span> </span></div>
            {% if user.is_photographer %}
            <div class="mt-1 text-center">
                <div class="mt-1 text-center">
                    <a href="{% url "photographer-update" user.photographer.id %}"
                        class="btn btn-primary profile-button">Photographer details</a>
                </div>
            </div>
            {%endif%}

            {% if user.is_authenticated %}
            <div class="mt-1 text-center">
                <a href="{% url "dashboard-edit"%}" class="btn btn-primary profile-button">Update Details</a>
            </div>
            <div class="mt-1 text-center">
                <a href="{% url "hires"%}" class="btn btn-primary profile-button">My Hires</a>
            </div>
        </div>
        <div>
            <div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="text-right">Hires of {{user.get_full_name}}</h4>
                </div>
                    <hr style="color: black;">
                <div class="row mt-2 card-container">
                {% for hire in hires %}
                
                    {% if request.user.is_customer %}
                    <div class="col-md-12">
                        <div class="card shadow-1 ">
                            <div class="card-header">
                                <h3 class="text-primary">Details of Hires
                                </h3>
                            </div>
                            <div class="card-body">
                                    <img src="{{hire.photographer.profile_pic.url}}" alt="{{hire.photographer.get_full_name}}" style="width:50%">
                                    <h1>{{hire.photographer.get_full_name}}</h1>
                                    <p>{{hire.photographer.email}}</p>
                                    <p>{{hire.photographer.phone}}</p>
                                    <p>{{hire.service}}</p>
                                    <p>Hired at {{hire.date}} </p>

                                <a href="{% url "chat" user.id hire.photographer.id %}" class="btn-success-sm float-left">
                                    <img src = "{% static "img/icon/chat-icon.png" %}" style="width:30px">
                                </a>
                                <span type="button" class="btn-success-sm" data-toggle="modal" data-target="#exampleModalCenter">
                                  <img src = "{% static "img/icon/feedback.png" %}" style="width:30px">
                                </span>
                                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="container-wrapper">  
                                                <div class="container1 d-flex align-items-center justify-content-center">
                                                  <div class="row justify-content-center">    
                                                    
                                                    <!-- star rating -->
                                                    <div class="rating-wrapper">
                                                      
                                                      <!-- star 5 -->
                                                      <input type="radio" id="5-star-rating" name="star-rating" value="5">
                                                      <label for="5-star-rating" class="star-rating">
                                                        <i class="fas fa-star d-inline-block"></i>
                                                      </label>
                                                      
                                                       <!-- star 4 -->
                                                      <input type="radio" id="4-star-rating" name="star-rating" value="4">
                                                      <label for="4-star-rating" class="star-rating star">
                                                        <i class="fas fa-star d-inline-block"></i>
                                                      </label>
                                                      
                                                       <!-- star 3 -->
                                                      <input type="radio" id="3-star-rating" name="star-rating" value="3">
                                                      <label for="3-star-rating" class="star-rating star">
                                                        <i class="fas fa-star d-inline-block"></i>
                                                      </label>
                                                      
                                                      <!-- star 2 -->
                                                      <input type="radio" id="2-star-rating" name="star-rating" value="2">
                                                      <label for="2-star-rating" class="star-rating star">
                                                        <i class="fas fa-star d-inline-block"></i>
                                                      </label>
                                                      
                                                      <!-- star 1 -->
                                                      <input type="radio" id="1-star-rating" name="star-rating" value="1">
                                                      <label for="1-star-rating" class="star-rating star">
                                                        <i class="fas fa-star d-inline-block"></i>
                                                      </label>
                                                      
                                                     </div>
                                                    
                                                  </div>
                                                </div>
                                              </div>
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                          <button type="button" class="btn btn-primary">Save changes</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                    {% else %}
                    
                    <div class="col-md-12">
                        <div class="card shadow-1">
                            <div class="card-header">
                                <h3 class="text-primary">Details of Hires</h3>
                            </div>
                            <div class="card-body">
          

                                <ul>
                                <li>Id: {{hire.customer.id}} </li>
                                <li>Full Name: {{hire.customer.get_full_name}} </li>
                                <li> Hired Date: {{hire.date}}
                                <li> Contact: {{hire.customer.phone}}</li>
                                <li> Email: {{hire.customer.email}}</li>
                                <li>Service: {{hire.service}}</li>

                                <ul>
                                <a href="{% url "chat" user.id hire.customer.id %}" class="btn btn-success ">
                                    CHAT
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
                </div>
    
    
            
            </div>
        </div>
        {% endif %}
    </div>

    
</div>
</div>
</div>
</div>
{%endblock body%}